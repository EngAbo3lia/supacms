---
description: 
globs: 
alwaysApply: false
---
Perfect. Here‚Äôs how to explain that clearly and correctly to the AI in a way that drives it toward rendering the dynamic form ‚Äî not dumping the JSON ‚Äî using ShadCN UI components.

‚∏ª

‚úÖ Prompt: Generate Dynamic Form from JSON using ShadCN UI

You are generating a dynamic form UI in React using the ShadCN component system.
The form definition is stored as JSON (already loaded from the forms table).
This JSON includes a "fields" array, where each object defines how the input should be rendered.

‚∏ª

üîÅ Behavior

You must:
	‚Ä¢	Iterate over the fields array in the JSON.
	‚Ä¢	For each field:
	‚Ä¢	Use the "label" for the input label
	‚Ä¢	Use the "type" to determine which ShadCN input component to render (Input, Textarea, Checkbox, etc.)
	‚Ä¢	Use "validations" to apply basic validation (e.g., "required", "max:255")
	‚Ä¢	Use "description" (if provided) to render helper text
	‚Ä¢	For "file" types:
	‚Ä¢	Render a file uploader and store the result in Supabase storage using the "bucket" and "storage_path"
	‚Ä¢	For "relation" types:
	‚Ä¢	Render a Select or Combobox that loads options from the related table using relation.table, value_field, and label_field
	‚Ä¢	For "array" types:
	‚Ä¢	Render a tag-like input for multiple text values

‚∏ª

üí° Example Form JSON

{
  "form_name": "articles",
  "fields": [
    {
      "name": "title",
      "label": "Title",
      "type": "text",
      "validations": ["required", "max:255"],
      "description": "Enter the article title"
    },
    {
      "name": "published",
      "label": "Published",
      "type": "checkbox",
      "validations": []
    },
    {
      "name": "header_url",
      "label": "Header Image",
      "type": "file",
      "bucket": "article-assets",
      "storage_path": "public/articles/header_images",
      "validations": ["file", "image"]
    },
    {
      "name": "author_id",
      "label": "Author",
      "type": "relation",
      "relation": {
        "table": "authors",
        "value_field": "id",
        "label_field": "last_name"
      },
      "validations": ["required"]
    }
  ]
}



‚∏ª

‚úÖ Goal

Render the entire form using useState to track values.
On submit, either:
	‚Ä¢	Upload files to Supabase storage (if any)
	‚Ä¢	Insert a new row into the relevant Supabase table
All logic is derived from the JSON ‚Äî no hardcoded field names.

‚∏ª

üìç Summary for the AI

Don‚Äôt render the raw JSON. Instead, use the structure of the JSON to render dynamic ShadCN form components.

‚∏ª

Want me to write the DynamicForm.tsx component to do this?